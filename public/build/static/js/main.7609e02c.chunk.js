(this.webpackJsonppublic=this.webpackJsonppublic||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(8),s=n.n(a),o=n(2),i=n.n(o),l=n(5),j=n(3),u=n(6),b=n(7),d=n(0),p=function(){var e=Object(c.useState)({email:"",password:""}),t=Object(b.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)([]),s=Object(b.a)(a,2),o=s[0],p=s[1],h=function(e){r(Object(u.a)(Object(u.a)({},n),{},Object(j.a)({},e.target.name,e.target.value)))},O=function(){var e=Object(l.a)(i.a.mark((function e(){var t,c,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/auth/login",{method:"post",body:JSON.stringify(n),headers:{"content-type":"application/json"}});case 3:return t=e.sent,e.next=6,t.text();case 6:c=e.sent,r=JSON.parse(c),console.log(r),localStorage.setItem("jwt",r.jwt),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log("Login error");case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/users",{method:"get",headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}});case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,console.log(n),p(n),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return[Object(d.jsxs)("div",{className:"form",children:[Object(d.jsxs)("label",{children:[Object(d.jsx)("span",{children:"Username"}),Object(d.jsx)("input",{type:"text",name:"email",value:n.email,onChange:h})]}),Object(d.jsxs)("label",{children:[Object(d.jsx)("span",{children:"Password"}),Object(d.jsx)("input",{type:"password",name:"password",value:n.password,onChange:h})]}),Object(d.jsx)("button",{onClick:O,children:"Log In"})]}),Object(d.jsx)("hr",{}),Object(d.jsxs)("div",{className:"data",children:[Object(d.jsx)("button",{onClick:x,children:"Get Users"}),Object(d.jsx)("br",{}),Object(d.jsxs)("table",{border:"1",children:[Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"email"}),Object(d.jsx)("th",{children:"password"})]}),o.map((function(e){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:e.email}),Object(d.jsx)("td",{children:e.password})]},e._id)}))]})]})]},h=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,17)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};n(15);s.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(p,{})}),document.getElementById("root")),h()}},[[16,1,2]]]);
//# sourceMappingURL=main.7609e02c.chunk.js.map